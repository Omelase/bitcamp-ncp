<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ex03</title>
</head>
<body>
<h1>자바스크립트 주요 함수 - eval()</h1>
<textarea id="ta" cols="80" rows="10"></textarea>
<button id="btn1">실행</button>
<script>
"use strict"
// 텍스트로 된 자바스크립트를 실행하는 함수
//
// => "실행" 버튼을 누르면 textarea 상자에 입력한 자바스트립트를 실행시키기
//
var ta = document.getElementById("ta");

document.getElementById("btn1").onclick = () => {
  //태그객체.onclick = 함수주소;
  //사용자가 마우스로 태그를 클릭하면 웹브라우저가 onclick 이름으로 저장된 함수를 호출. 따라서 위에 입력한 함수주소 = callback = event handler = event listener
	// input, textarea, select 등 입력폼 항목의 값을 꺼낼 때는
	// innerHTML이 아니라 value 프로퍼티를 사용해야 한다.
	var str = ta.value;

	// eval(자바스크립트코드)
	// => 이 함수는 파라미터로 주어진 자바스크립트 코드를 실행한다.
  eval(str);

	// eval()로 실행한 결과는 그래도 유지된다.
	// 따라서 eval()에서 자바스크립트 코드를 실행할 때
	// window 객체에 name 값을 넣으면
	// eval() 실행이 끝난 다음에도 그대로 유지된다.
	console.log("v1=", window.v1);
};

</script>

</body>
</html>
